/*  Rejex JavaScript Application, version 40bca0c8c4eb4e105fb80e971efb3c47059a7a74
 *  (c) 2010 Oliver Nightingale
 *
 *  Released under MIT license.
 */
jQuery.fn.inlineLabels=function(){return this.each(function(a){var b=jQuery.extend({opacity:0.5,speed:400},a),c=jQuery(this);a="#"+jQuery(this).attr("id")+"_label";var d=jQuery(a);jQuery(this).focus(function(){c.val()?d.animate({opacity:0},b.speed):d.animate({opacity:b.opacity},b.speed)});c.keypress(function(){d.animate({opacity:0},50)});c.blur(function(){c.val()||d.animate({opacity:1},b.speed)})})};
PatternMatcher=function(a){this.regExpOptions=a.regExpOptions||"";this.pattern=a.pattern||"";this.testString=a.testString||"";this.pattern&&this.buildRegExp(this.pattern,this.regExpOptions);this.matchClass=a.matchClass||"match"};
PatternMatcher.prototype={buildRegExp:function(a,b){try{this.regExp=RegExp(a,b);this.valid=true}catch(c){this.valid=false;this.regExp=null}},highlight:function(){return this.valid?this.regExp.test(this.testString)?this.testString.replace(this.regExp,function(a){return"<span class='match'>"+a+"</span>"}):"No Match":"<span class='error'>Invalid regular expression</span>"}};
Translator=function(){this.translatorCounter=0;this.phraseCount=4;this.text={en:{expression_label:"Your Regular Expression",options_label:"Options",test_string_label:"Your Test String",matches_label:"Match Result",case_insensitive_matching:"case insensitive matching",global_matching:"global matching",multiline_matching:"multiline matching"}}};
Translator.prototype={detectLanguage:function(){this.language="en"},displayTranslation:function(){this.translationCount==this.phraseCount&&$.each(this.text[this.language],function(a,b){$("#"+a).text(b)})},performTranslation:function(){var a=this;$.each(this.text.en,function(b,c){google.language.translate(c,"en",a.language,function(d){if(!d.error){a.text[a.language][b]=d.translation;a.translationCount++;a.displayTranslation()}})})},translate:function(){this.translationCount=0;this.detectLanguage();
this.text[this.language]={};this.performTranslation()}};$(document).ready(function(){$("input, textarea").inlineLabels();$("#options").focus(function(){$("#options_help").animate({opacity:1},400)}).blur(function(){$("#options_help").animate({opacity:0},400)});$("form").find("input, textarea").keyup(function(){if($("#expression").val()){var a=new PatternMatcher({pattern:$("#expression").val(),testString:$("#test_string").val(),regExpOptions:$("#options").val()});$("#matches").html(a.highlight())}})});
